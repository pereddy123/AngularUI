<h3>Tasks</h3>

<!-- <div class="filter-bar">
  <label for="statusFilter">Filter by Status:</label>
  <p-dropdown 
    [options]="statusOptions"
    [(ngModel)]="selectedStatus"
    placeholder="Select a status"
    (onChange)="filterTasks()"
    optionLabel="label"
    styleClass="status-filter"
  ></p-dropdown>
</div> -->

<p-table [value]="tasks" [paginator]="true" [rows]="10"   tableStyleClass="p-dense" [responsiveLayout]="'scroll'">
  <ng-template pTemplate="header">
    <tr>
      <th>Title</th>
      <th>Status</th>
      <th>Due Date</th>
      <th *ngIf="role !== 'Employee'">Assigned To</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-task>
    <tr>
      <td>{{ task.title }}</td>
      <td>
        <span class="status-badge" [ngClass]="task.status.toLowerCase().replace(' ', '-')">
          {{ task.status }}
        </span>
      </td>
      <td>{{ task.dueDate | date:'mediumDate' }}</td>
      <td *ngIf="role !== 'Employee'">{{ task.assignedToUsername }}</td>
    </tr>
  </ng-template>
</p-table>

<p *ngIf="tasks.length === 0" class="no-tasks">No tasks found.</p>
